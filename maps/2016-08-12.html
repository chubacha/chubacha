
    <!DOCTYPE html>
    <html>
    <head>
      <title>Leaflet Map</title>

      <!-- Leaflet CSS and JS from jsdelivr -->
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.7.1/dist/leaflet.css" />
      <script async src="https://cdn.jsdelivr.net/npm/leaflet@1.7.1/dist/leaflet.js"></script>

      <!-- Leaflet Elevation from jsdelivr -->
      <script async src="https://cdn.jsdelivr.net/npm/leaflet-elevation@0.0.3/dist/leaflet-elevation.min.js"></script>
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet-elevation@0.0.3/dist/leaflet-elevation.min.css" />

      <!-- Omnivore from jsdelivr -->
      <script async src="https://cdn.jsdelivr.net/npm/leaflet-omnivore@0.2.0/leaflet-omnivore.min.js"></script>
    </head>
    <body>
      <div id="map" style="width: 100%; height: 600px;"></div>
      <script>
        // Initialize the map with a default center and zoom level
        const map = L.map('map').setView([51.505, -0.09], 13);

        // Adding tile layer to the map
        L.tileLayer('https://tile.thunderforest.com/cycle/{z}/{x}/{y}.png?apikey=0952b4b77c244683b65c482658d6dcce', {
          attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, ' +
                      '<a href="https://www.thunderforest.com/">Thunderforest</a>',
          maxZoom: 19
        }).addTo(map);

        // Load the KML file asynchronously
        omnivore.kml('https://drive.google.com/uc?export=download?id=1hVvlC_5jmstqA1wAJRlsNG774lDmT7jm')
          .on('ready', function() {
            map.fitBounds(this.getBounds()); // Fit the map to the bounds of the KML layer
          })
          .on('error', function(error) {
            console.error("Error loading KML: ", error);
          })
          .addTo(map);

        // Add elevation control
        const elevationControl = L.control.elevation({
          theme: 'steelblue-theme',
          followMarker: true
        }).addTo(map);

        // Add each KML layer to the elevation control
        omnivore.kml('https://drive.google.com/uc?export=download?id=1hVvlC_5jmstqA1wAJRlsNG774lDmT7jm').eachLayer(function(layer) {
          elevationControl.addData(layer.feature);
        });
      </script>
    </body>
    </html>
  